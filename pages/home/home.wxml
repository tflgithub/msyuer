<import src="../../common/templates/worktemplate/workitem.wxml" />
<import src="../../common/pageState/pageState.wxml" />
<template is="pageState" data="{{...pageState}}" />
<view class='page'>
  <swiper indicator-dots="{{true}}" autoplay="{{true}}" interval="{{5000}}" duration="{{1000}}" circular="true" class="swiper-block" current="0" bindchange="swiperChange">
    <block wx:for="{{recommends}}" wx:index="{{index}}">
      <swiper-item class="swiper-item">
        <view class="slide-view" bindtap='goCoursesDetail' data-id='{{item.course.courseId}}'>
          <image mode="aspectFill" src="{{item.course.phoUrl}}" />
          <view class='layout_vertical' style='padding:10rpx;'>
            <text style='font-size:28rpx;color:#FFFFFF;overflow:hidden;text-overflow: ellipsis;white-space: nowrap;'>{{item.course.title}}</text>
            <view>
              <text decode='{{true}}' style='font-size:20rpx;color:#FFFFFF'>{{item.course.learnNum}}人学过&nbsp;&nbsp;{{item.course.workNum}}人做过</text>
              <text decode='{{true}}' style='font-size:20rpx;color:#FFFFFF'>&nbsp;&nbsp;&nbsp;难度&nbsp;</text>
              <block wx:for='{{item.course.difficult}}'>
                <image style='width:16rpx;height:15rpx' src='../../image/ic_star_white.png' />
              </block>
            </view>
          </view>
        </view>
      </swiper-item>
    </block>
  </swiper>
  <view style='margin:40rpx 0 22rpx 30rpx;align-items:center;display: flex;flex-direction:row;justify-content: space-between'>
    <view>
      <text style='font-size:30rpx; font-weight: bold' decode='{{true}}'>作业展示&nbsp;</text>
      <text style='font-size:20rpx;color:#A5A5A5' decode='{{true}}'>\&nbsp;WORK</text>
    </view>
    <navigator hover-class='none' style='font-size:20rpx;color:#A5A5A5;padding:20rpx 47rpx 0 47rpx' url='../works/index'>
      查看更多>>
    </navigator>
  </view>
  <view class='work'>
    <template wx:for="{{works}}" wx:key="{{item}}" is="workitem" data="{{item}}"></template>
    <!--没有找到padding-right为什么在这里会无效，暂时用view占位解决。-->
    <view style='width:40rpx;color:#FFFFFF'>""</view>
  </view>
  <view style='margin:42rpx 0 42rpx 30rpx;align-items:center;display: flex;flex-direction:row;justify-content: space-between'>
    <view>
      <text style='font-size:30rpx; font-weight: bold' decode='{{true}}'>往期课程&nbsp;</text>
      <text style='font-size:20rpx;color:#A5A5A5' decode='{{true}}'>\&nbsp;COURSES</text>
    </view>
  </view>

  <view class='course-view' wx:for='{{courses}}' bindtap='goCoursesDetail' data-id='{{item.course.courseId}}'>
    <image mode="aspectFill" src="{{item.course.phoUrl}}" />
    <text class='name'>{{item.course.title}}</text>
    <view>
      <text decode='{{true}}' style='font-size:20rpx;color:#737373'>{{item.course.learnNum}}人学过&nbsp;&nbsp;{{item.course.workNum}}人做过</text>
      <text decode='{{true}}' style='font-size:20rpx;color:#737373'>&nbsp;&nbsp;&nbsp;难度&nbsp;</text>
      <block wx:for='{{item.course.difficult}}'>
        <image style='width:16rpx;height:15rpx' src='../../image/ic_star_orange.png' />
      </block>
    </view>
  </view>
  <view class='bottom-line' wx:if='{{!haveNext}}'>
    <text class='bottom-line-title'>我是有底线的~</text>
  </view>
  <view style='height:198rpx' />
</view>
<tabbar tabbar="{{tabbar}}" bindopen='uploadWork'></tabbar>